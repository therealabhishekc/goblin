# Environment-specific configuration for Lambda archival deployment
# Copy this file to .env for local deployment configuration

# Environment (development, staging, production)
# ENVIRONMENT=production  # This is now set by the deploy script parameter

# AWS Configuration
AWS_REGION=us-east-1
AWS_PROFILE=default

# Archival Configuration
ENABLE_ARCHIVAL=true       # Enable/disable archival Lambda functions
ARCHIVE_THRESHOLD_DAYS=90  # Archive messages older than 90 days
MEDIA_THRESHOLD_DAYS=0     # Archive media immediately (0 days) to prevent WhatsApp URL expiration

# Network Configuration (if using VPC)
# These should be obtained automatically from your main infrastructure stack
# Override only if needed for special configurations
# VPC_ID=vpc-xxxxxxxx
# PRIVATE_SUBNET_IDS=subnet-xxxxxxxx,subnet-yyyyyyyy
# DATABASE_SECURITY_GROUP_ID=sg-xxxxxxxx

# Schedule Configuration (in rate/cron format)
# Message archival: Every 2 days at 2 AM UTC
# Media archival: Every 5 minutes
MESSAGE_ARCHIVAL_SCHEDULE="cron(0 2 */2 * ? *)"
MEDIA_ARCHIVAL_SCHEDULE="rate(5 minutes)"

# Lambda Configuration
LAMBDA_MEMORY_SIZE=512
LAMBDA_TIMEOUT=900  # 15 minutes
LAMBDA_BATCH_SIZE=100
LAMBDA_MAX_RETRY_ATTEMPTS=3

# Monitoring Configuration
ENABLE_CLOUDWATCH_ALARMS=true
ERROR_THRESHOLD=5
DURATION_THRESHOLD_MS=600000  # 10 minutes

# Deployment Configuration
BUILD_DIR_CLEANUP=true
UPLOAD_TIMEOUT=300
DEPLOYMENT_TIMEOUT=1800

# Debug Configuration
ENABLE_DEBUG_LOGGING=false
DRY_RUN_BY_DEFAULT=false

# Notification Configuration (optional)
# SNS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:whatsapp-archival-notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/.../...